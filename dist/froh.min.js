(function(){"use strict";function a(){}function b(h,j){for(var k=h.length;k--;)if(h[k].listener===j)return k;return-1}function c(h){return function(){return this[h].apply(this,arguments)}}var d=a.prototype,f=this,g=f.EventEmitter;d.getListeners=function(h){var j,k,l=this._getEvents();if(h instanceof RegExp)for(k in j={},l)l.hasOwnProperty(k)&&h.test(k)&&(j[k]=l[k]);else j=l[h]||(l[h]=[]);return j},d.flattenListeners=function(h){var j,k=[];for(j=0;j<h.length;j+=1)k.push(h[j].listener);return k},d.getListenersAsObject=function(h){var j,k=this.getListeners(h);return k instanceof Array&&(j={},j[h]=k),j||k},d.addListener=function(h,j){var k,l=this.getListenersAsObject(h);for(k in l)l.hasOwnProperty(k)&&-1===b(l[k],j)&&l[k].push("object"==typeof j?j:{listener:j,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(h,j){return this.addListener(h,{listener:j,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(h){return this.getListeners(h),this},d.defineEvents=function(h){for(var j=0;j<h.length;j+=1)this.defineEvent(h[j]);return this},d.removeListener=function(h,j){var k,l,m=this.getListenersAsObject(h);for(l in m)m.hasOwnProperty(l)&&(k=b(m[l],j),-1!==k&&m[l].splice(k,1));return this},d.off=c("removeListener"),d.addListeners=function(h,j){return this.manipulateListeners(!1,h,j)},d.removeListeners=function(h,j){return this.manipulateListeners(!0,h,j)},d.manipulateListeners=function(h,j,k){var l,m,p=h?this.removeListener:this.addListener,q=h?this.removeListeners:this.addListeners;if("object"!=typeof j||j instanceof RegExp)for(l=k.length;l--;)p.call(this,j,k[l]);else for(l in j)j.hasOwnProperty(l)&&(m=j[l])&&("function"==typeof m?p.call(this,l,m):q.call(this,l,m));return this},d.removeEvent=function(h){var j,l=this._getEvents();if("string"==typeof h)delete l[h];else if(h instanceof RegExp)for(j in l)l.hasOwnProperty(j)&&h.test(j)&&delete l[j];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(h,j){var k,l,m,p,q,v=this.getListenersAsObject(h);for(p in v)if(v.hasOwnProperty(p))for(k=v[p].slice(0),m=0;m<k.length;m++)l=k[m],!0===l.once&&this.removeListener(h,l.listener),q=l.listener.apply(this,j||[]),q===this._getOnceReturnValue()&&this.removeListener(h,l.listener);return this},d.trigger=c("emitEvent"),d.emit=function(h){var j=Array.prototype.slice.call(arguments,1);return this.emitEvent(h,j)},d.setOnceReturnValue=function(h){return this._onceReturnValue=h,this},d._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return f.EventEmitter=g,a},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:f.EventEmitter=a}).call(this);class Storage{constructor(){this._storage=Object.create(null),this._eventemitter=new EventEmitter}get(a){return this._storage[a]}exists(a){var b=a.split(".");if(this._storage[b[0]]===void 0||null===this._storage[b[0]])return!1;var c=this._storage[b[0]];for(let d=1;d<b.length;++d){if(c[b[d]]===void 0||null===c[b[d]])return!1;c=c[b[d]]}return!0}set(a,b){var c=this;if(void 0!==a&&null!==a&&""!==a){if("string"==typeof b||"number"==typeof b)return this._storage[a]=b,void this._eventemitter.emitEvent(a);if("object"!=typeof b)throw new Error("Invalid object type passed. Only string, number and object is allowed!");var d=new Proxy(b,{set(f,g,h){return f[g]=h,c._eventemitter.emitEvent(a),!0}});this.iterateObj(a,b),this._storage[a]=d,this._eventemitter.emitEvent(a)}}iterateObj(a,b){var c=this;Object.keys(b).map((d)=>{if("object"==typeof b[d]){var f=new Proxy(b[d],{set(g,h,j){return g[h]=j,c._eventemitter.emitEvent(a),!0}});b[d]=f,this.iterateObj(a,b[d])}})}del(a){delete this._storage[a],this._eventemitter.emitEvent(a),this._eventemitter.removeListener(a)}on(a,b){this._eventemitter.on(a,b),b()}}class FrohClass{constructor(){this.storage=new Storage,this.http=function(b,c,d,f,g){var h=new XMLHttpRequest;return h.open(b.toUpperCase(),f,!0),c&&Object.keys(c).map(function(j){h.setRequestHeader(j,c[j])}),h.addEventListener("load",function(){4===h.readyState&&g(null,h.status,h.responseText)}),h.addEventListener("error",function(){g(new Error("HttpRequestError"))}),d&&"string"==typeof d?void h.send(d):void(d&&"object"==typeof d&&h.send(JSON.stringify(d)),h.send(null))}}ready(a){document.addEventListener("DOMContentLoaded",a)}get(a){return this.storage.get(a)}set(a,b){this.storage.set(a,b)}on(a,b){this.storage.on(a,b)}is(a){return this.storage.exists(a)}}var Froh=new FrohClass;

